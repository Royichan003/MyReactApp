(this["webpackJsonpokta-app"]=this["webpackJsonpokta-app"]||[]).push([[0],{52:function(e,t,c){},53:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),o=c(26),r=c.n(o),s=(c(52),c(10)),i=c.n(s),l=c(17),u=(c(53),c(15)),j=c(0);var b=function(){var e=Object(u.d)(),t=e.oktaAuth,c=e.authState,n=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signInWithRedirect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=c.isAuthenticated?Object(j.jsx)("button",{onClick:a,children:"Logout"}):Object(j.jsx)("button",{onClick:n,children:"Sign In"});return Object(j.jsxs)("header",{children:[Object(j.jsx)("div",{children:"Goodreads"}),Object(j.jsx)("ul",{className:"menu"}),o]})},d=c(6),h=c.p+"static/media/logo.69f8bce8.jpg";var O=function(){return Object(j.jsxs)("div",{className:"page",style:{color:"red",backgroundImage:'url("https://images.unsplash.com/photo-1491309055486-24ae511c15c7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80")'},children:[Object(j.jsx)("h1",{children:"Goodreads: Book reviews, recommendations, and discussions"}),Object(j.jsx)(d.b,{to:"/private",children:Object(j.jsx)("button",{type:"button",children:"Sign In to continue"})}),Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("img",{src:h,width:"100%",height:"50%"})})]})},m=(c(65),c(4)),p=c(47),x=c(11),f=c(44),g=c(45),v=c.n(g).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),y={getAll:function(){return v.get("/books")},get:function(e){return v.get("/books/".concat(e))},create:function(e){return v.post("/books",e)},update:function(e,t){return v.put("/books/".concat(e),t)},remove:function(e){return v.delete("/books/".concat(e))}},N=c(2),k=c(46),C=(c(84),function(e){var t=Object(N.e)(),c=Object(n.useState)([]),a=Object(x.a)(c,2),o=a[0],r=a[1],s=Object(n.useRef)();s.current=o;var i=Object(n.useMemo)((function(){return[{Header:"Title",accessor:"title"},{Header:"Author",accessor:"author"},{Header:"Country",accessor:"country"},{Header:"Language",accessor:"language"},{Header:"Genre",accessor:"genre"},{Header:"Actions",accessor:"actions",Cell:function(e){var t=e.row.id;return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{onClick:function(){return C(t)},children:Object(j.jsx)("i",{className:"far fa-edit action mr-2"})}),Object(j.jsx)("span",{children:"  |  "}),Object(j.jsx)("span",{onClick:function(){return w(t)},children:Object(j.jsx)("i",{className:"fas fa-trash action"})})]})}}]}),[]),l=Object(f.useTable)({columns:i,data:o}),u=l.getTableProps,b=l.getTableBodyProps,h=l.headerGroups,O=l.rows,g=l.prepareRow;Object(n.useEffect)((function(){v()}),[]);var v=function(){y.getAll().then((function(e){r(e.data)})).catch((function(e){console.log(e)}))},C=function(e){var c=s.current[e].id;t.push("/editbooks/"+c)},w=function(e){Object(k.confirmAlert)({title:"Confirm to submit",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){return A(e)}},{label:"No"}],overlayClassName:"overlay-custom-class-name"})},A=function(e){var c=s.current[e].id;y.remove(c).then((function(c){t.push("/books");var n=Object(p.a)(s.current);n.splice(e,1),r(n)})).catch((function(e){console.log(e)}))};return Object(j.jsxs)("div",{className:"list row",children:[Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-append",children:[Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"btn btn-outline-secondary",type:"button",color:"#ff5c5c",children:Object(j.jsx)(d.b,{to:"/add",style:{textDecoration:"none"},children:"Add New Book"})})]})})}),Object(j.jsx)("div",{className:"col-md-12 list",children:Object(j.jsxs)("table",Object(m.a)(Object(m.a)({className:"table table-striped table-bordered"},u()),{},{children:[Object(j.jsx)("thead",{children:h.map((function(e){return Object(j.jsx)("tr",Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(m.a)(Object(m.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(m.a)(Object(m.a)({},b()),{},{children:O.map((function(e,t){return g(e),Object(j.jsx)("tr",Object(m.a)(Object(m.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(m.a)(Object(m.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})]})});var w=function(e){return Object(j.jsx)(C,{})},A=c(16),F=(c(85),c(86),c(87),c(14)),S=function(){var e={id:null,title:"",author:"",country:"",language:"",genre:""},t=Object(N.e)(),c=Object(n.useState)(e),a=Object(x.a)(c,2),o=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(x.a)(s,2),l=i[0],u=i[1],b=function(e){var t=e.target,c=t.name,n=t.value;r(Object(m.a)(Object(m.a)({},o),{},Object(F.a)({},c,n)))};return Object(j.jsx)("div",{className:"submit-form",children:l?Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)("h4",{children:"Added Successfully!"}),Object(j.jsx)("button",{className:"btn btn-success",onClick:function(){r(e),u(!1)},children:"Add Another Book"})," ",Object(j.jsx)("button",{className:"btn btn-success",onClick:function(){t.push("/books")},children:"Close"})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"title",style:{fontWeight:"bold"},children:"Title"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:o.title,onChange:b,name:"title"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"description",style:{fontWeight:"bold"},children:"Author"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"author",required:!0,value:o.author,onChange:b,name:"author"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"description",style:{fontWeight:"bold"},children:"Country"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"country",required:!0,value:o.country,onChange:b,name:"country"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"description",style:{fontWeight:"bold"},children:"Language"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"language",required:!0,value:o.language,onChange:b,name:"language"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"description",style:{fontWeight:"bold"},children:"Genre"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"genre",required:!0,value:o.genre,onChange:b,name:"genre"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={title:o.title,author:o.author,country:o.country,language:o.language,genre:o.genre};y.create(e).then((function(e){r({id:e.data.id,title:e.data.title,country:e.data.country,language:e.data.language,genre:e.data.genre}),u(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})," ",Object(j.jsx)("button",{onClick:function(){t.push("/books")},className:"btn btn-success",children:"Cancel"})]})})},B=function(e){var t=Object(N.e)(),c=Object(n.useState)({id:null,title:"",author:"",country:"",language:"",genre:""}),a=Object(x.a)(c,2),o=a[0],r=a[1],s=Object(n.useState)(""),i=Object(x.a)(s,2),l=i[0],u=i[1],b=Object(n.useState)(!1),d=Object(x.a)(b,2),h=d[0],O=d[1];Object(n.useEffect)((function(){var t;t=e.match.params.id,y.get(t).then((function(e){r(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var p=function(e){var t=e.target,c=t.name,n=t.value;r(Object(m.a)(Object(m.a)({},o),{},Object(F.a)({},c,n)))};return Object(j.jsx)("div",{className:"submit-form",children:h?Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)("h4",{children:"Updated Successfully!"}),Object(j.jsx)("button",{className:"btn btn-success",onClick:function(){t.push("/books")},children:"Close"})]}):Object(j.jsx)("div",{children:o?Object(j.jsxs)("div",{className:"edit-form",children:[Object(j.jsx)("br",{}),Object(j.jsx)("h4",{children:"Modify Book"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"title",style:{fontWeight:"bold"},children:"Title"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:o.title,onChange:p})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"author",style:{fontWeight:"bold"},children:"Author"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"author",name:"author",value:o.author,onChange:p})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"country",style:{fontWeight:"bold"},children:"Country"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"country",name:"country",value:o.country,onChange:p})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"language",style:{fontWeight:"bold"},children:"Language"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"language",name:"language",value:o.language,onChange:p})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"genre",style:{fontWeight:"bold"},children:"Genre"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"genre",name:"genre",value:o.genre,onChange:p})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(){y.update(o.id,o).then((function(e){console.log(e.data),O(!0),u("The book was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update Book"})," ",Object(j.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(){t.push("/books")},children:"Close"}),Object(j.jsx)("p",{children:l})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"Please click on a Book..."})]})})})},H=new A.OktaAuth({issuer:"https://dev-57457376.okta.com/oauth2/default",clientId:"0oa28z0y8jJB13x8o5d7",redirectUri:window.location.origin+"/callback"}),W=function(){var e=Object(N.e)(),t=function(){var t=Object(l.a)(i.a.mark((function t(c,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.replace(Object(A.toRelativeUrl)(n,window.location.origin));case 1:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("div",{className:"auth-wrapper",children:Object(j.jsx)("div",{className:"auth-inner",children:Object(j.jsxs)(u.c,{oktaAuth:H,restoreOriginalUri:t,children:[Object(j.jsx)(b,{}),Object(j.jsx)(N.a,{path:"/",exact:!0,component:O}),Object(j.jsx)(u.b,{path:"/private",exact:!0,component:w}),Object(j.jsx)(N.a,{path:"/callback",component:u.a}),Object(j.jsx)(N.a,{path:"/books",component:C}),Object(j.jsx)(N.a,{path:"/add",component:S}),Object(j.jsx)(N.a,{path:"/editbooks/:id",component:B})]})})})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,91)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),o(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(W,{})})}),document.getElementById("root")),G()}},[[90,1,2]]]);
//# sourceMappingURL=main.d834a59e.chunk.js.map